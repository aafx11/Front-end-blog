# 开发一个带有图形化界面的脚手架
本文将带大家开发一个带有图形化界面的脚手架，功能包括用户选项、拉取远程仓库预设、选择包管理、切换npm源地址等。<br/>
文章中会讲述重点功能的实现，如果是一些工具函数，可以参考本项目源码，项目地址maker-cli。

## 效果展示

## 功能介绍
本文将完成以下功能的开发：<br/>
1、根据用户选择生成项目模板。<br/>
2、拉去远程仓库，根据远程仓库的预设生成项目模板。<br/>
3、开发脚手架的图形化操作界面。

## 一、根据用户选择生成项目模板
### (1)效果展示与功能流程图
### (2)项目搭建
## 流程图
判断需要创建的目录是否已经存在
生成各个模块的交互提示语
根据用户选择的选项加载package.json文件以及相应的模板文件到内存
收集导入语句和需要在Vue中注册的插件
将加载完的文件写入到目录中

## 根据用户选项,往模板文件中插入导入语句
将原文件转成 AST
找到原有的导入语句
在原有的导入语句后插入需要添加的导入语句
将修改后的 AST 转换回 JavaScript 代码字符串


## 脚手架
1. 首先会用到 commander 这个库来注册命令，首先是注册一个 create 命令，（可以在命令里执行我们需要的js文件）
   ```js
   // 全局注册 npm link
   "bin": {
      "mvc": "./bin/mvc.js"
    },
   ``` 
2. 第二步是用用户与脚手架的交互，用 Inquirer 插件，能够在终端展示一些交互选项，询问用户创建项目需要哪些功能，
   比如需不需要Vue-Router，需不需要 Eslint ，Vuex等等
3. 第三步是根据用户的选项去渲染模板，我用的是 ejs 进行模板渲染，ejs 可以通过变量决定渲染哪些代码，实现条件渲染
4. 除了本地生成项目，还可以通过拉去远程库的方式去生成项目，通过 download-git-repo 这个插件，能将远程库下载到本地
   （根据远程库里面的提示词生成用户选项，根据用户选项进行条件渲染）
5. 我还做了脚手架的图形化界面，通过 express 在本地启动一个服务，前端通过接口的方式去调用命令，完成项目的创建